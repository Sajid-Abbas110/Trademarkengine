generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
}

model User {
  id         String           @id @default(cuid())
  email      String           @unique
  password   String
  name       String?
  role       String           @default("client")
  createdAt  DateTime         @default(now())
  updatedAt  DateTime         @updatedAt
  requests   ServiceRequest[]
  trademarks Trademark[]
}

model Trademark {
  id           String   @id @default(cuid())
  name         String
  type         String
  serialNumber String?
  status       String   @default("Application Filed")
  step         Int      @default(0)
  userId       String
  createdAt    DateTime @default(now())
  updatedAt    DateTime @updatedAt
  user         User     @relation(fields: [userId], references: [id])
}

model ServiceRequest {
  id        String    @id @default(cuid())
  userId    String
  type      String
  status    String    @default("PENDING")
  data      String
  createdAt DateTime  @default(now())
  updatedAt DateTime  @updatedAt
  messages  Message[]
  user      User      @relation(fields: [userId], references: [id])
}

model Message {
  id               String         @id @default(cuid())
  content          String
  senderId         String
  receiverId       String
  serviceRequestId String
  isRead           Boolean        @default(false)
  createdAt        DateTime       @default(now())
  serviceRequest   ServiceRequest @relation(fields: [serviceRequestId], references: [id])
}
